import React, { useState, useEffect, useRef } from "react";
import "./LiveChat.css";

const LiveChat = () => {
  const [messages, setMessages] = useState([
    { text: "Hello! How can I assist you today?", from: "support" },
  ]);
  const [userMessage, setUserMessage] = useState("");
  const [isTyping, setIsTyping] = useState(false);
  const [userName, setUserName] = useState("");
  const [isChatVisible, setIsChatVisible] = useState(false);

  const chatBoxRef = useRef(null);

  const questionsAndAnswers = {
    "à¦†à¦®à¦¿ à¦•à¦¿ à¦à¦•à¦Ÿà¦¿ à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦ªà¦£à§à¦¯ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦¤à¦¥à§à¦¯ à¦ªà§‡à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?": "à¦…à¦¬à¦¶à§à¦¯à¦‡! à¦†à¦ªà¦¨à¦¿ à¦•à§‹à¦¨ à¦ªà¦£à§à¦¯à¦Ÿà¦¿ à¦¸à¦®à§à¦ªà¦°à§à¦•à§‡ à¦œà¦¾à¦¨à¦¤à§‡ à¦šà¦¾à¦¨? à¦¦à§Ÿà¦¾ à¦•à¦°à§‡ à¦ªà¦£à§à¦¯à§‡à¦° à¦¨à¦¾à¦® à¦¬à¦¾ à¦²à¦¿à¦‚à¦• à¦¶à§‡à§Ÿà¦¾à¦° à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦®à¦¿ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦†à¦®à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦Ÿà§à¦°à§à¦¯à¦¾à¦• à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦Ÿà§à¦°à§à¦¯à¦¾à¦• à¦•à¦°à¦¤à§‡, à¦¦à§Ÿà¦¾ à¦•à¦°à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦†à¦‡à¦¡à¦¿ à¦¦à¦¿à¦¨à¥¤ à¦†à¦®à¦°à¦¾ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¸à¦°à§à¦¬à¦¶à§‡à¦· à¦¸à§à¦Ÿà§à¦¯à¦¾à¦Ÿà¦¾à¦¸ à¦œà¦¾à¦¨à¦¾à¦¬à¥¤",
    "à¦ªà¦£à§à¦¯à¦Ÿà¦¿ à¦•à¦¿ à¦¸à§à¦Ÿà¦•à§‡ à¦†à¦›à§‡?": "à¦¦à§Ÿà¦¾ à¦•à¦°à§‡ à¦ªà¦£à§à¦¯à§‡à¦° à¦¨à¦¾à¦® à¦¬à¦¾ à¦†à¦‡à¦¡à¦¿ à¦¶à§‡à§Ÿà¦¾à¦° à¦•à¦°à§à¦¨à¥¤ à¦†à¦®à¦¿ à¦šà§‡à¦• à¦•à¦°à§‡ à¦œà¦¾à¦¨à¦¾à¦šà§à¦›à¦¿ à¦ªà¦£à§à¦¯à¦Ÿà¦¿ à¦¸à§à¦Ÿà¦•à§‡ à¦†à¦›à§‡ à¦•à¦¿ à¦¨à¦¾à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦° à¦“à§Ÿà§‡à¦¬à¦¸à¦¾à¦‡à¦Ÿà§‡ à¦•à§€ à¦§à¦°à¦¨à§‡à¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦…à¦ªà¦¶à¦¨ à¦°à§Ÿà§‡à¦›à§‡?": "à¦†à¦®à¦¾à¦¦à§‡à¦° à¦“à§Ÿà§‡à¦¬à¦¸à¦¾à¦‡à¦Ÿà§‡ à¦•à§à¦°à§‡à¦¡à¦¿à¦Ÿ/à¦¡à§‡à¦¬à¦¿à¦Ÿ à¦•à¦¾à¦°à§à¦¡, à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦¬à§à¦¯à¦¾à¦‚à¦•à¦¿à¦‚ (à¦¯à§‡à¦®à¦¨: à¦¬à¦¿à¦•à¦¾à¦¶, à¦¨à¦—à¦¦), à¦à¦¬à¦‚ à¦•à§à¦¯à¦¾à¦¶ à¦…à¦¨ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦…à¦ªà¦¶à¦¨ à¦°à§Ÿà§‡à¦›à§‡à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦à¦•à¦Ÿà¦¿ à¦ªà¦£à§à¦¯ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?": "à¦ªà¦£à§à¦¯ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦•à¦°à¦¤à§‡, à¦¦à§Ÿà¦¾ à¦•à¦°à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦†à¦‡à¦¡à¦¿ à¦à¦¬à¦‚ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨à§‡à¦° à¦•à¦¾à¦°à¦£ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦œà¦¾à¦¨à¦¾à¦¨à¥¤ à¦†à¦®à¦°à¦¾ à¦†à¦ªà¦¨à¦¾à¦° à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦ªà§à¦°à¦•à§à¦°à¦¿à§Ÿà¦¾ à¦¶à§à¦°à§ à¦•à¦°à¦¬à¥¤",
    "à¦ªà¦£à§à¦¯à§‡à¦° à¦¦à¦¾à¦® à¦•à¦¿ à¦¨à¦¿à¦°à§à¦§à¦¾à¦°à¦¿à¦¤?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦¾à¦¦à§‡à¦° à¦ªà¦£à§à¦¯à§‡à¦° à¦¦à¦¾à¦® à¦¨à¦¿à¦°à§à¦§à¦¾à¦°à¦¿à¦¤à¥¤ à¦¤à¦¬à§‡ à¦¬à¦¿à¦¶à§‡à¦· à¦¡à¦¿à¦¸à¦•à¦¾à¦‰à¦¨à§à¦Ÿà§‡à¦° à¦¸à¦®à§Ÿ à¦¦à¦¾à¦® à¦•à¦®à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤",
    "à¦ªà¦£à§à¦¯ à¦¸à§à¦Ÿà¦•à§‡ à¦†à¦¸à¦²à§‡ à¦•à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦œà¦¾à¦¨à¦¾à¦¨à§‹ à¦¹à¦¬à§‡?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦ªà¦¨à¦¿ â€œNotify Meâ€ à¦…à¦ªà¦¶à¦¨à§‡ à¦¸à¦¾à¦‡à¦¨ à¦†à¦ª à¦•à¦°à¦²à§‡ à¦¸à§à¦Ÿà¦•à§‡ à¦†à¦¸à¦¾à¦° à¦¸à¦¾à¦¥à§‡ à¦¸à¦¾à¦¥à§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦œà¦¾à¦¨à¦¾à¦¨à§‹ à¦¹à¦¬à§‡à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦ªà¦¦à§à¦§à¦¤à¦¿à¦¤à§‡ à¦•à¦¿ à¦•à§à¦¯à¦¾à¦¶ à¦…à¦¨ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦†à¦›à§‡?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦•à§à¦¯à¦¾à¦¶ à¦…à¦¨ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à¦¿à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦° à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦ªà¦²à¦¿à¦¸à¦¿ à¦•à§€?": "à¦ªà¦£à§à¦¯ à¦—à§à¦°à¦¹à¦£à§‡à¦° à¦¸à¦¾à¦¤ à¦¦à¦¿à¦¨à§‡à¦° à¦®à¦§à§à¦¯à§‡ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡, à¦¯à¦¦à¦¿ à¦à¦Ÿà¦¿ à¦…à¦¬à§à¦¯à¦¬à¦¹à§ƒà¦¤ à¦à¦¬à¦‚ à¦®à§‚à¦² à¦ªà§à¦¯à¦¾à¦•à§‡à¦œà¦¿à¦‚à§Ÿà§‡ à¦¥à¦¾à¦•à§‡à¥¤",
    "à¦ªà¦£à§à¦¯ à¦¡à§‡à¦®à§‹ à¦­à¦¿à¦¡à¦¿à¦“ à¦•à§‹à¦¥à¦¾à§Ÿ à¦ªà¦¾à¦¬?": "à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦ªà§‡à¦œà§‡ à¦¡à§‡à¦®à§‹ à¦­à¦¿à¦¡à¦¿à¦“ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¥à¦¾à¦•à§‡à¥¤ à¦­à¦¿à¦¡à¦¿à¦“ à¦¨à¦¾ à¦¥à¦¾à¦•à¦²à§‡ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦œà¦¾à¦¨à¦¾à¦¬à§‡à¦¨à¥¤",
    "à¦ªà¦£à§à¦¯ à¦à¦•à¦¾à¦§à¦¿à¦• à¦•à¦¿à¦¨à¦²à§‡ à¦•à¦¿ à¦›à¦¾à§œ à¦ªà¦¾à¦¬?": "à¦¹à§à¦¯à¦¾à¦, à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦¸à¦‚à¦–à§à¦¯à¦¾à¦° à¦‰à¦ªà¦°à§‡ à¦ªà¦£à§à¦¯ à¦•à¦¿à¦¨à¦²à§‡ à¦¡à¦¿à¦¸à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¹à§Ÿà¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦†à¦¨à§à¦¤à¦°à§à¦œà¦¾à¦¤à¦¿à¦• à¦¶à¦¿à¦ªà¦¿à¦‚ à¦•à¦°à§‡à¦¨?": "à¦¨à¦¾, à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨à§‡ à¦†à¦®à¦°à¦¾ à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶à§‡à¦° à¦­à§‡à¦¤à¦°à§‡ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦•à¦°à¦¿à¥¤",
    "à¦•à¦¿à¦­à¦¾à¦¬à§‡ Wishlist à¦¤à§ˆà¦°à¦¿ à¦•à¦°à¦¬?": "à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦ªà§‡à¦œà§‡ â€œAdd to Wishlistâ€ à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿ à¦«à§‹à¦¨à§‡ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¹à¦Ÿà¦²à¦¾à¦‡à¦¨à§‡ à¦•à¦² à¦•à¦°à§‡ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦•à¦¾à¦¸à§à¦Ÿà¦®à¦¾à¦° à¦°à¦¿à¦­à¦¿à¦‰ à¦®à§à¦›à§‡ à¦«à§‡à¦²à§‡à¦¨?": "à¦¨à¦¾, à¦†à¦®à¦°à¦¾ à¦•à§‹à¦¨à§‹ à¦°à¦¿à¦­à¦¿à¦‰ à¦®à§à¦›à§‡ à¦«à§‡à¦²à¦¿ à¦¨à¦¾à¥¤ à¦¤à¦¬à§‡ à¦…à¦¨à§à¦ªà¦¯à§à¦•à§à¦¤ à¦­à¦¾à¦·à¦¾ à¦¬à¦¾ à¦­à§à§Ÿà¦¾ à¦°à¦¿à¦­à¦¿à¦‰ à¦¸à¦°à¦¾à¦¨à§‹ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤",
    "à¦ªà¦£à§à¦¯à§‡à¦° à¦›à¦¬à¦¿à¦—à§à¦²à§‹ à¦•à¦¿ à¦†à¦¸à¦²?": "à¦¹à§à¦¯à¦¾à¦, à¦ªà¦£à§à¦¯à§‡à¦° à¦›à¦¬à¦¿à¦—à§à¦²à§‹ à¦†à¦¸à¦² à¦à¦¬à¦‚ à¦ªà¦£à§à¦¯à¦Ÿà¦¿à¦‡ à¦ªà§à¦°à¦¦à¦°à§à¦¶à¦¨ à¦•à¦°à§‡à¥¤",
    "à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿à¦° à¦†à¦—à§‡ à¦•à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦«à§‹à¦¨ à¦•à¦°à¦¾ à¦¹à¦¬à§‡?": "à¦¹à§à¦¯à¦¾à¦, à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿à¦° à¦†à¦—à§‡ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦ªà¦¾à¦°à§à¦Ÿà¦¨à¦¾à¦° à¦†à¦ªà¦¨à¦¾à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à¦¬à§‡à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦•à¦°à§à¦ªà§‹à¦°à§‡à¦Ÿ à¦…à¦°à§à¦¡à¦¾à¦° à¦—à§à¦°à¦¹à¦£ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦•à¦°à§à¦ªà§‹à¦°à§‡à¦Ÿ à¦…à¦°à§à¦¡à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦•à¦¾à¦¸à§à¦Ÿà¦®à¦¾à¦° à¦•à§‡à§Ÿà¦¾à¦°à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦à¦•à§à¦¸à¦šà§‡à¦žà§à¦œ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦ªà¦¨à¦¿ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦à¦•à§à¦¸à¦šà§‡à¦žà§à¦œ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦ªà¦£à§à¦¯ à¦—à¦¿à¦«à¦Ÿ à¦ªà§à¦¯à¦¾à¦•à§‡à¦œà¦¿à¦‚ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦—à¦¿à¦«à¦Ÿ à¦ªà§à¦¯à¦¾à¦•à§‡à¦œà¦¿à¦‚ à¦¸à¦¾à¦°à§à¦­à¦¿à¦¸ à¦†à¦®à¦°à¦¾ à¦ªà§à¦°à¦¦à¦¾à¦¨ à¦•à¦°à¦¿à¥¤",
    "à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦¦à§‡à¦°à¦¿ à¦¹à¦²à§‡ à¦•à§€ à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦†à¦‡à¦¡à¦¿ à¦¦à¦¿à§Ÿà§‡ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦œà¦¾à¦¨à¦¾à¦²à§‡ à¦†à¦®à¦°à¦¾ à¦¦à§à¦°à§à¦¤ à¦¸à¦®à¦¾à¦§à¦¾à¦¨ à¦•à¦°à¦¬à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦•à¦¿à¦¸à§à¦¤à¦¿à¦¤à§‡ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦—à§‡à¦Ÿà¦“à§Ÿà§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦•à¦¿à¦¸à§à¦¤à¦¿à¦¤à§‡ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡à¥¤",
    "à¦†à¦®à¦¿ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦†à¦®à¦¾à¦° à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¡à¦¿à¦²à¦¿à¦Ÿ à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦Ÿà¦¿à¦®à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦†à¦®à¦¾à¦° à¦•à¦¾à¦°à§à¦Ÿ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦•à¦¾à¦°à§à¦Ÿ à¦ªà§‡à¦œà§‡ à¦—à¦¿à§Ÿà§‡ à¦ªà¦£à§à¦¯à§‡à¦° à¦¸à¦‚à¦–à§à¦¯à¦¾ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦•à¦°à§à¦¨ à¦…à¦¥à¦¬à¦¾ à¦•à§‹à¦¨à§‹ à¦ªà¦£à§à¦¯ à¦®à§à¦›à§‡ à¦«à§‡à¦²à§à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦•à¦¾à¦¸à§à¦Ÿà¦® à¦…à¦°à§à¦¡à¦¾à¦° à¦—à§à¦°à¦¹à¦£ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦•à¦¿à¦›à§ à¦ªà¦£à§à¦¯à§‡à¦° à¦œà¦¨à§à¦¯ à¦†à¦®à¦°à¦¾ à¦•à¦¾à¦¸à§à¦Ÿà¦® à¦…à¦°à§à¦¡à¦¾à¦° à¦—à§à¦°à¦¹à¦£ à¦•à¦°à¦¿à¥¤ à¦¬à¦¿à¦¸à§à¦¤à¦¾à¦°à¦¿à¦¤ à¦œà¦¾à¦¨à¦¤à§‡ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦—à§à¦°à¦¾à¦¹à¦•à¦¦à§‡à¦° à¦œà¦¨à§à¦¯ à¦ªà§à¦°à¦¾à¦‡à¦¸ à¦®à§à¦¯à¦¾à¦š à¦—à§à¦¯à¦¾à¦°à¦¾à¦¨à§à¦Ÿà¦¿ à¦¦à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦¶à¦°à§à¦¤à¦¸à¦¾à¦ªà§‡à¦•à§à¦·à§‡ à¦ªà§à¦°à¦¾à¦‡à¦¸ à¦®à§à¦¯à¦¾à¦š à¦—à§à¦¯à¦¾à¦°à¦¾à¦¨à§à¦Ÿà¦¿ à¦…à¦«à¦¾à¦° à¦•à¦°à¦¿à¥¤",
    "à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦ªà§à¦°à¦•à§à¦°à¦¿à§Ÿà¦¾ à¦¶à§à¦°à§ à¦•à¦°à¦¬?": "à¦†à¦®à¦¾à¦¦à§‡à¦° à¦“à§Ÿà§‡à¦¬à¦¸à¦¾à¦‡à¦Ÿà§‡à¦° â€œReturn & Refundâ€ à¦ªà§‡à¦œà§‡ à¦—à¦¿à§Ÿà§‡ à¦¨à¦¿à¦°à§à¦¦à§‡à¦¶à¦¨à¦¾ à¦…à¦¨à§à¦¸à¦°à¦£ à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦¬à¦¿à¦¦à§‡à¦¶à§‡ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦†à¦¨à§à¦¤à¦°à§à¦œà¦¾à¦¤à¦¿à¦• à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦…à¦«à¦¾à¦° à¦•à¦°à¦¿à¥¤ à¦¤à¦¬à§‡ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦šà¦¾à¦°à§à¦œ à¦à¦¬à¦‚ à¦¸à¦®à§Ÿ à¦†à¦²à¦¾à¦¦à¦¾ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¥¤",
    "à¦¡à§‡à¦²à¦¿à¦­à§‡à¦°à¦¿à¦° à¦¸à¦®à§Ÿ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦ªà¦¾à¦¬?": "à¦…à¦°à§à¦¡à¦¾à¦° à¦•à¦¨à¦«à¦¾à¦°à§à¦®à§‡à¦¶à¦¨à§‡à¦° à¦ªà¦° à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦Ÿà§à¦°à§à¦¯à¦¾à¦•à¦¿à¦‚ à¦¨à¦®à§à¦¬à¦° à¦ªà¦¾à¦ à¦¾à¦¨à§‹ à¦¹à¦¬à§‡, à¦¯à¦¾ à¦¦à¦¿à§Ÿà§‡ à¦†à¦ªà¦¨à¦¿ à¦†à¦ªà¦¡à§‡à¦Ÿ à¦¦à§‡à¦–à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¦¨à¥¤",
    "à¦ªà¦£à§à¦¯à§‡à¦° à¦“à§Ÿà¦¾à¦°à§‡à¦¨à§à¦Ÿà¦¿ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦šà§‡à¦• à¦•à¦°à¦¬?": "à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦ªà§‡à¦œà§‡ à¦“à§Ÿà¦¾à¦°à§‡à¦¨à§à¦Ÿà¦¿ à¦¸à¦®à§à¦ªà¦°à§à¦•à¦¿à¦¤ à¦¤à¦¥à§à¦¯ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¥à¦¾à¦•à§‡à¥¤ à¦†à¦°à¦“ à¦œà¦¾à¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦Ÿà¦¿à¦®à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦¬à¦¿à¦¶à§‡à¦· à¦›à§à¦Ÿà¦¿à¦° à¦¦à¦¿à¦¨à§‡ à¦…à¦«à¦¾à¦° à¦¦à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦¬à¦¿à¦¶à§‡à¦· à¦›à§à¦Ÿà¦¿à¦° à¦¦à¦¿à¦¨à§‡ à¦¬à¦¿à¦¶à§‡à¦· à¦…à¦«à¦¾à¦° à¦à¦¬à¦‚ à¦¡à¦¿à¦¸à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¦à¦¿à§Ÿà§‡ à¦¥à¦¾à¦•à¦¿à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿ à¦…à¦°à§à¦¡à¦¾à¦° à¦ªà§à¦²à§‡à¦¸ à¦•à¦°à¦¾à¦° à¦ªà¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦®à§‡à¦¥à¦¡ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?": "à¦¦à§à¦ƒà¦–à¦¿à¦¤, à¦à¦•à¦¬à¦¾à¦° à¦…à¦°à§à¦¡à¦¾à¦° à¦ªà§à¦²à§‡à¦¸ à¦•à¦°à¦¾à¦° à¦ªà¦° à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦®à§‡à¦¥à¦¡ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦¸à¦®à§à¦­à¦¬ à¦¨à§Ÿà¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦ªà¦£à§à¦¯à§‡à¦° à¦°à¦¿à¦­à¦¿à¦‰ à¦®à¦¡à¦¾à¦°à§‡à¦Ÿ à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦¾à¦¦à§‡à¦° à¦Ÿà¦¿à¦® à¦ªà¦£à§à¦¯à§‡à¦° à¦°à¦¿à¦­à¦¿à¦‰ à¦®à¦¡à¦¾à¦°à§‡à¦Ÿ à¦•à¦°à§‡, à¦¯à¦¾à¦¤à§‡ à¦¤à¦¾ à¦ªà§à¦°à¦¾à¦¸à¦™à§à¦—à¦¿à¦• à¦à¦¬à¦‚ à¦‰à¦ªà¦•à¦¾à¦°à§€ à¦¹à§Ÿà¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦‡-à¦—à¦¿à¦«à¦Ÿ à¦•à¦¾à¦°à§à¦¡ à¦‡à¦®à§‡à¦‡à¦²à§‡ à¦ªà¦¾à¦ à¦¾à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦‡-à¦—à¦¿à¦«à¦Ÿ à¦•à¦¾à¦°à§à¦¡ à¦¸à¦°à¦¾à¦¸à¦°à¦¿ à¦‡à¦®à§‡à¦‡à¦²à§‡ à¦ªà¦¾à¦ à¦¾à¦‡à¥¤",
    "à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦šà¦¾à¦°à§à¦œ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦¨à¦¿à¦°à§à¦§à¦¾à¦°à¦¿à¦¤ à¦¹à§Ÿ?": "à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ à¦šà¦¾à¦°à§à¦œ à¦ªà¦£à§à¦¯à§‡à¦° à¦“à¦œà¦¨, à¦¸à¦¾à¦‡à¦œ à¦à¦¬à¦‚ à¦²à§‹à¦•à§‡à¦¶à¦¨à§‡à¦° à¦‰à¦ªà¦° à¦¨à¦¿à¦°à§à¦­à¦° à¦•à¦°à§‡à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à§à¦¯à¦¾à¦¨à¦¸à§‡à¦² à¦•à¦°à¦²à§‡ à¦Ÿà¦¾à¦•à¦¾ à¦«à§‡à¦°à¦¤ à¦¦à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦Ÿà¦¾à¦•à¦¾ à¦«à§‡à¦°à¦¤ à¦¦à¦¿à¦‡à¥¤ à¦°à¦¿à¦«à¦¾à¦¨à§à¦¡ à¦ªà§à¦°à¦¸à§‡à¦¸à¦¿à¦‚ à¦¸à¦®à§Ÿà¦¸à§€à¦®à¦¾ à§­-à§§à§¦ à¦•à¦¾à¦°à§à¦¯à¦¦à¦¿à¦¬à¦¸à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿà§‡à¦° à¦•à¦¾à¦²à¦¾à¦° à¦…à¦ªà¦¶à¦¨ à¦šà§‡à¦• à¦•à¦°à¦¬?": "à¦ªà§à¦°à§‹à¦¡à¦¾à¦•à§à¦Ÿ à¦ªà§‡à¦œà§‡ à¦•à¦¾à¦²à¦¾à¦° à¦…à¦ªà¦¶à¦¨ à¦¦à§‡à¦–à¦¾à¦¨à§‹ à¦¹à§Ÿà¥¤ à¦¸à§‡à¦–à¦¾à¦¨ à¦¥à§‡à¦•à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦ªà¦›à¦¨à§à¦¦à¦®à¦¤à§‹ à¦°à¦™ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¦¨à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦‡à¦¨à§à¦¸à¦Ÿà¦²à¦®à§‡à¦¨à§à¦Ÿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦ªà§à¦²à§à¦¯à¦¾à¦¨ à¦…à¦«à¦¾à¦° à¦•à¦°à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦¨à¦¿à¦°à§à¦¦à¦¿à¦·à§à¦Ÿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦ªà¦¾à¦°à§à¦Ÿà¦¨à¦¾à¦°à§‡à¦° à¦®à¦¾à¦§à§à¦¯à¦®à§‡ à¦†à¦®à¦°à¦¾ à¦‡à¦¨à§à¦¸à¦Ÿà¦²à¦®à§‡à¦¨à§à¦Ÿ à¦ªà§‡à¦®à§‡à¦¨à§à¦Ÿ à¦¸à¦¾à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à¦¿à¥¤",
    "à¦†à¦ªà¦¨à¦¾à¦°à¦¾ à¦•à¦¿ à¦•à¦°à§à¦ªà§‹à¦°à§‡à¦Ÿ à¦—à¦¿à¦«à¦Ÿà¦¿à¦‚ à¦¸à¦²à¦¿à¦‰à¦¶à¦¨ à¦¦à§‡à¦¨?": "à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦°à¦¾ à¦•à¦°à§à¦ªà§‹à¦°à§‡à¦Ÿ à¦—à¦¿à¦«à¦Ÿà¦¿à¦‚ à¦¸à¦²à¦¿à¦‰à¦¶à¦¨ à¦ªà§à¦°à¦¦à¦¾à¦¨ à¦•à¦°à¦¿à¥¤",
    "à¦†à¦®à¦¿ à¦•à¦¿à¦­à¦¾à¦¬à§‡ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à§à¦¯à¦¾à¦¨à¦¸à§‡à¦² à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿà§‡à¦° â€œMy Ordersâ€ à¦¸à§‡à¦•à¦¶à¦¨à§‡ à¦—à¦¿à§Ÿà§‡ à¦…à¦°à§à¦¡à¦¾à¦° à¦•à§à¦¯à¦¾à¦¨à¦¸à§‡à¦² à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¦¨à¥¤",
    "à¦ªà¦£à§à¦¯à§‡à¦° à¦¸à§à¦Ÿà¦• à¦¶à§‡à¦· à¦¹à§Ÿà§‡ à¦—à§‡à¦²à§‡ à¦•à§€ à¦•à¦°à¦¬?": "à¦†à¦ªà¦¨à¦¾à¦° à¦‡à¦®à§‡à¦‡à¦² à¦†à¦‡à¦¡à¦¿ à¦¦à¦¿à§Ÿà§‡ â€œNotify Meâ€ à¦…à¦ªà¦¶à¦¨ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦²à§‡ à¦¸à§à¦Ÿà¦• à¦†à¦ªà¦¡à§‡à¦Ÿ à¦¹à¦²à§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦œà¦¾à¦¨à¦¾à¦¨à§‹ à¦¹à¦¬à§‡à¥¤"
  };

  const fetchSupportReply = async (userMessage) => {
    setIsTyping(true);
    setTimeout(() => {
      const lowerCaseMessage = userMessage.toLowerCase();

      const matchedQuestion = Object.keys(questionsAndAnswers).find((question) =>
        question.toLowerCase().includes(lowerCaseMessage)
      );

      const reply =
        matchedQuestion &&
        questionsAndAnswers[matchedQuestion] ||
        "Sorry, I didn't understand that. Can you please rephrase?";
      setMessages((prevMessages) => [
        ...prevMessages,
        { text: reply, from: "support" },
      ]);
      setIsTyping(false);
    }, 1500);
  };

  const sendMessage = () => {
    if (userMessage.trim()) {
      const newMessage = { text: userMessage, from: "user" };
      setMessages([...messages, newMessage]);
      fetchSupportReply(userMessage);
      setUserMessage("");
    }
  };

  const handleNameChange = (e) => {
    setUserName(e.target.value);
  };

  const handleClickOutside = (event) => {
    if (
      chatBoxRef.current &&
      !chatBoxRef.current.contains(event.target) &&
      !event.target.closest(".toggle-chat-button")
    ) {
      setIsChatVisible(false);
    }
  };

  const handleKeyDown = (e) => {
    if (e.key === "Enter") {
      sendMessage();
    }
  };

  useEffect(() => {
    if (isChatVisible) {
      document.addEventListener("mousedown", handleClickOutside);
    } else {
      document.removeEventListener("mousedown", handleClickOutside);
    }
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, [isChatVisible]);

  return (
    <div className="live-chat-container">
      <button
        className="toggle-chat-button"
        onClick={() => setIsChatVisible(!isChatVisible)}
        style={{
          position: "fixed",
          bottom: "20px",
          right: "20px",
          zIndex: 1000,
          width: "60px",
          height: "60px",
          borderRadius: "50%",
          backgroundColor: "#007bff",
          color: "white",
          border: "none",
          boxShadow: "0px 4px 6px rgba(0, 0, 0, 0.1)",
          cursor: "pointer",
          fontSize: "20px",
        }}
      >
        {isChatVisible ? "âœ–" : "ðŸ’¬"}
      </button>

      {isChatVisible && (
        <div
          className="chat-container"
          ref={chatBoxRef}
          style={{
            position: "fixed",
            bottom: "90px",
            right: "20px",
            zIndex: 1000,
            background: "white",
            boxShadow: "0px 4px 6px rgba(0, 0, 0, 0.1)",
            borderRadius: "8px",
            width: "300px",
            maxHeight: "400px",
            overflow: "hidden",
          }}
        >
          <div className="chat-box">
            {!userName ? (
              <div className="user-name-input">
                <input
                  type="text"
                  placeholder="Enter your name to start"
                  value={userName}
                  onChange={handleNameChange}
                />
                <button onClick={() => userName && alert("Welcome " + userName)}>
                  Start Chat
                </button>
              </div>
            ) : (
              <>
                <div
                  className="messages"
                  style={{ padding: "10px", overflowY: "auto", maxHeight: "300px" }}
                >
                  {messages.map((msg, index) => (
                    <div
                      key={index}
                      className={`message ${msg.from}`}
                      style={{
                        textAlign: msg.from === "user" ? "right" : "left",
                        margin: "5px 0",
                      }}
                    >
                      <p>{msg.text}</p>
                    </div>
                  ))}
                </div>

                {isTyping && (
                  <div
                    className="typing-indicator"
                    style={{ padding: "10px", fontStyle: "italic" }}
                  >
                    <span>Support is typing...</span>
                  </div>
                )}

                <div
                  className="chat-input"
                  style={{ display: "flex", padding: "10px", borderTop: "1px solid #ddd" }}
                >
                  <input
                    type="text"
                    value={userMessage}
                    onChange={(e) => setUserMessage(e.target.value)}
                    onKeyDown={handleKeyDown}
                    placeholder="Type your message..."
                    style={{ flex: 1, padding: "5px" }}
                  />
                  <button onClick={sendMessage} style={{ marginLeft: "10px" }}>
                    Send
                  </button>
                </div>
              </>
            )}
          </div>
        </div>
      )}
    </div>
  );
};

export default LiveChat;
